---
import Footer from "../components/common/Footer.astro";
import Header from "../components/common/Header.astro";

interface Props {
    title?: string;
    description?: string;
    image?: string;
    article?: boolean;
}

const {
    title = "Project Vyoma - Aeromodelling Team | RV College of Engineering",
    description = "Project Vyoma is the premier aeromodelling and aerospace engineering team at RV College of Engineering, Bangalore. We design, build, and fly RC aircraft, competing at national and international levels since 2007.",
    image = "/images/image.png",
    article = false
} = Astro.props;

const canonicalURL = new URL(Astro.url.pathname, Astro.site);
const socialImage = new URL(image, Astro.site);

// Structured Data for SEO
const structuredData = {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "Project Vyoma",
    "alternateName": "Project Vyoma",
    "url": Astro.site,
    "logo": new URL("/images/image.png", Astro.site),
    "description": description,
    "foundingDate": "2007",
    "address": {
        "@type": "PostalAddress",
        "streetAddress": "RV College of Engineering, Pattanagere, Mysuru Road",
        "addressLocality": "Bangalore",
        "addressRegion": "Karnataka",
        "postalCode": "560059",
        "addressCountry": "IN"
    },
    "contactPoint": {
        "@type": "ContactPoint",
        "email": "projectvyoma@rvce.edu.in",
        "contactType": "General Inquiries"
    },
    "sameAs": [
        "https://www.linkedin.com/company/team-vyoma",
        "https://www.instagram.com/teamvyoma",
        "https://x.com/projectvyoma"
    ],
    "memberOf": {
        "@type": "EducationalOrganization",
        "name": "RV College of Engineering"
    }
};
---

<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Essential Meta Tags -->
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Primary Meta Tags -->
    <title>{title}</title>
    <meta name="title" content={title}>
    <meta name="description" content={description}>
    <meta name="keywords" content="aeromodelling, RC aircraft, aerospace engineering, RVCE, Bangalore, unmanned aerial vehicles, UAV, drone, competition, SAE Aero Design, AIAA DBF, Project Vyoma">
    <meta name="author" content="Project Vyoma">
    <meta name="robots" content="index, follow">
    
    <!-- Canonical URL -->
    <link rel="canonical" href={canonicalURL}>
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content={article ? "article" : "website"}>
    <meta property="og:url" content={canonicalURL}>
    <meta property="og:title" content={title}>
    <meta property="og:description" content={description}>
    <meta property="og:image" content={socialImage}>
    <meta property="og:site_name" content="Project Vyoma">
    <meta property="og:locale" content="en_US">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content={canonicalURL}>
    <meta name="twitter:title" content={title}>
    <meta name="twitter:description" content={description}>
    <meta name="twitter:image" content={socialImage}>
    <meta name="twitter:site" content="@projectvyoma">
    <meta name="twitter:creator" content="@projectvyoma">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon.png">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="manifest" href="/site.webmanifest">
    <meta name="theme-color" content="#30c5dc">
    
    <!-- Sitemap -->
    <link rel="sitemap" href="/sitemap-index.xml">
    
    <!-- Preconnect to External Domains -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="dns-prefetch" href="https://www.google-analytics.com">
    
    <!-- Essential CSS - Only keep what's needed -->
    <link rel="preload" href="/lib/ionicons/css/ionicons.min.css" as="style">
    <link href="/lib/ionicons/css/ionicons.min.css" rel="stylesheet">
    
    <!-- Font Awesome (Modern Version) -->
    <link 
        rel="stylesheet" 
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous"
        referrerpolicy="no-referrer"
    >
    
    <!-- Custom Styles -->
    <script>
        import '../styles/style.css';
    </script>
    
    <!-- Bootstrap (For legacy grid classes used in Footer and some components) -->
    <link 
        rel="stylesheet" 
        href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css"
        integrity="sha512-b2QcS5SsA8tZodcDtGRELiGv5SaKSk1vDHDaQRda0htPYWZ6046lr3kJ5bAAQdpV2mmA/4v0wQF9MyU6/pDIAg=="
        crossorigin="anonymous"
        referrerpolicy="no-referrer"
    >
    
    <!-- jQuery (Needed for legacy scripts) -->
    <script 
        src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
        integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
        crossorigin="anonymous"
        referrerpolicy="no-referrer"
    ></script>
    
    <!-- Custom Scripts -->
    <script src="../scripts/main.js"></script>
    <script is:inline src="/lib/easing/easing.min.js"></script>
    
    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json" set:html={JSON.stringify(structuredData)} />
    
    <!-- Google Analytics (Replace with your actual GA4 ID) -->
    <!-- Uncomment and add your GA4 Measurement ID when ready
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script is:inline>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-XXXXXXXXXX');
    </script>
    -->
</head>

<style is:global>
	@tailwind base;
	@tailwind components;
	@tailwind utilities;
</style>

<style>
    body {
        background-color: #212121;
        overflow-x: hidden;
    }
    
    /* Improve font rendering */
    * {
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }
    
    /* Smooth scrolling */
    html {
        scroll-behavior: smooth;
    }
    
    /* Focus styles for accessibility */
    *:focus-visible {
        outline: 2px solid #30c5dc;
        outline-offset: 2px;
    }
</style>

<body>
    <Header />
    
    <main id="main-content">
        <slot />
    </main>
    
    <Footer />
</body>
</html>
